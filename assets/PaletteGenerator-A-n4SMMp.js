import{_ as I,f as v,g as y,c as p,a as t,i as h,t as w,k as g,l as _,n as O,o as C,m as B,j as x,q as G,v as V,F as z,d as A,r as E,b as J}from"./index-CN7SNm4E.js";import{a as L}from"./colorUtils-VfYsWgYm.js";const M={name:"ColorCard",props:{color:{type:Object,required:!0},format:{type:String,default:"hex",validator:d=>["hex","rgb"].includes(d)},index:{type:Number,required:!0}},setup(d,{emit:o}){const r=v(!1),e=v(null),i=y(()=>d.format==="rgb"?n(d.color.value):d.color.value.toUpperCase()),c=y(()=>{const u=d.color.value.replace("#",""),s=parseInt(u.substr(0,2),16),P=parseInt(u.substr(2,2),16),S=parseInt(u.substr(4,2),16);return(s*299+P*587+S*114)/1e3<128}),n=u=>{const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);return s?`rgb(${parseInt(s[1],16)}, ${parseInt(s[2],16)}, ${parseInt(s[3],16)})`:u};return{copied:r,formattedColor:i,isDarkColor:c,copyToClipboard:async()=>{try{await navigator.clipboard.writeText(i.value),r.value=!0,o("copy",i.value),e.value&&clearTimeout(e.value),e.value=setTimeout(()=>{r.value=!1},2e3)}catch(u){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",u);const s=document.createElement("textarea");s.value=i.value,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),r.value=!0,o("copy",i.value),setTimeout(()=>{r.value=!1},2e3)}},togglePin:()=>{o("pin",d.index)},hexToRgb:n}}},q={class:"color-value"},U={class:"color-actions"},j=["title"];function R(d,o,r,e,i,c){return C(),p("div",{class:"color-card",style:O({backgroundColor:r.color.value}),onClick:o[2]||(o[2]=(...n)=>e.copyToClipboard&&e.copyToClipboard(...n))},[t("div",{class:g(["color-info",{"light-text":e.isDarkColor}])},[t("div",q,w(e.formattedColor),1),t("div",U,[t("button",{onClick:o[0]||(o[0]=_((...n)=>e.togglePin&&e.togglePin(...n),["stop"])),class:g(["action-btn",{pinned:r.color.pinned}]),title:r.color.pinned?"–û—Ç–∫—Ä–µ–ø–∏—Ç—å":"–ó–∞–∫—Ä–µ–ø–∏—Ç—å"}," üìå ",10,j),t("button",{onClick:o[1]||(o[1]=_((...n)=>e.copyToClipboard&&e.copyToClipboard(...n),["stop"])),class:"action-btn",title:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"}," üìã ")])],2),e.copied?(C(),p("div",{key:0,class:g(["copy-notification",{"light-text":e.isDarkColor}])}," ‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ! ",2)):h("",!0)],4)}const H=I(M,[["render",R],["__scopeId","data-v-b5a05a6c"]]),X={name:"PaletteGenerator",components:{ColorCard:H},props:{showControls:{type:Boolean,default:!0}},setup(d,{emit:o}){const r=v(5),e=v("hex"),i=v("#667eea"),c=v([]),n=v(new Set),l=v(new Date().toLocaleTimeString()),m=y(()=>n.value.size),u=y(()=>n.value.size>0),s=()=>{const a=L(i.value,parseInt(r.value));c.value=a.map((b,f)=>({value:b,pinned:n.value.has(f),id:Date.now()+f})),l.value=new Date().toLocaleTimeString(),k()},P=a=>{n.value.has(a)?n.value.delete(a):n.value.add(a),c.value[a].pinned=n.value.has(a),k()},S=()=>{n.value.clear(),c.value.forEach(a=>{a.pinned=!1}),k()},T=()=>{const a={id:Date.now(),name:`–ü–∞–ª–∏—Ç—Ä–∞ ${new Date().toLocaleDateString()}`,colors:c.value.map(f=>f.value),createdAt:new Date().toISOString()},b=JSON.parse(localStorage.getItem("palettes")||"[]");b.unshift(a),localStorage.setItem("palettes",JSON.stringify(b)),o("paletteSaved",a),N("–ü–∞–ª–∏—Ç—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!")},D=a=>{o("copyNotification",`${a} —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä`)},N=a=>{o("notification",a)},k=()=>{localStorage.setItem("currentPalette",JSON.stringify({palette:c.value,pinned:Array.from(n.value),baseColor:i.value,colorCount:r.value}))},F=()=>{const a=JSON.parse(localStorage.getItem("currentPalette"));a?(c.value=a.palette,n.value=new Set(a.pinned),i.value=a.baseColor,r.value=a.colorCount):s()};return B(()=>{F()}),{colorCount:r,colorFormat:e,baseColor:i,currentPalette:c,pinnedCount:m,hasPinnedColors:u,lastGenerated:l,generatePalette:s,togglePin:P,resetPinned:S,saveCurrentPalette:T,showCopyNotification:D}}},K={class:"palette-generator"},Q={class:"generator-controls"},W={class:"controls-group"},Y={class:"controls-group"},Z={class:"format-toggle"},$={class:"controls-group"},oo={class:"actions"},eo={class:"palette-display"},to={class:"palette-info"},ao={class:"info-card"};function no(d,o,r,e,i,c){const n=E("ColorCard");return C(),p("div",K,[t("div",Q,[t("div",W,[o[8]||(o[8]=t("label",null,"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–≤–µ—Ç–æ–≤:",-1)),x(t("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>e.colorCount=l),class:"input"},[...o[7]||(o[7]=[t("option",{value:"3"},"3 —Ü–≤–µ—Ç–∞",-1),t("option",{value:"5"},"5 —Ü–≤–µ—Ç–æ–≤",-1),t("option",{value:"7"},"7 —Ü–≤–µ—Ç–æ–≤",-1)])],512),[[G,e.colorCount]])]),t("div",Y,[o[9]||(o[9]=t("label",null,"–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:",-1)),t("div",Z,[t("button",{onClick:o[1]||(o[1]=l=>e.colorFormat="hex"),class:g([{active:e.colorFormat==="hex"},"format-btn"])}," HEX ",2),t("button",{onClick:o[2]||(o[2]=l=>e.colorFormat="rgb"),class:g([{active:e.colorFormat==="rgb"},"format-btn"])}," RGB ",2)])]),t("div",$,[o[10]||(o[10]=t("label",null,"–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç:",-1)),x(t("input",{type:"color","onUpdate:modelValue":o[3]||(o[3]=l=>e.baseColor=l),class:"color-picker"},null,512),[[V,e.baseColor]])])]),t("div",oo,[t("button",{onClick:o[4]||(o[4]=(...l)=>e.generatePalette&&e.generatePalette(...l)),class:"btn btn-primary"}," üîÑ –°–ª—É—á–∞–π–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ "),t("button",{onClick:o[5]||(o[5]=(...l)=>e.saveCurrentPalette&&e.saveCurrentPalette(...l)),class:"btn btn-secondary"}," üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞–ª–∏—Ç—Ä—É "),e.hasPinnedColors?(C(),p("button",{key:0,onClick:o[6]||(o[6]=(...l)=>e.resetPinned&&e.resetPinned(...l)),class:"btn btn-secondary"}," üîì –°–±—Ä–æ—Å–∏—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ ")):h("",!0)]),t("div",eo,[(C(!0),p(z,null,A(e.currentPalette,(l,m)=>(C(),p("div",{key:m,class:"palette-row"},[J(n,{color:l,format:e.colorFormat,index:m,onPin:e.togglePin,onCopy:e.showCopyNotification},null,8,["color","format","index","onPin","onCopy"])]))),128))]),t("div",to,[t("div",ao,[o[11]||(o[11]=t("h4",null,"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–ª–∏—Ç—Ä–µ",-1)),t("p",null,"–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–æ —Ü–≤–µ—Ç–æ–≤: "+w(e.pinnedCount),1),t("p",null,"–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "+w(e.lastGenerated),1)])])])}const so=I(X,[["render",no],["__scopeId","data-v-0b85e3f3"]]);export{so as P};
